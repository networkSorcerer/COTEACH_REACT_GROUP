# 기능 개요: 일기작성 페이지와 My Page
작성자: Byeong-gwan
작성일: 2025-11-21

## 목적과 방향
- 내가 만든 두 페이지는 "빠르게 기록하고, 나를 되돌아보며, 다시 목록으로 자연스럽게 이어지는 흐름"을 만드는 데 초점을 뒀다.
- 일기작성 페이지는 입력 마찰을 최소화하고, My Page는 요약→드릴다운으로 탐색을 이어주는 개인 허브 역할을 한다.

---

## 일기작성 페이지 (DiaryCreatePage)

### 페이지 목적
- 그날의 감정과 생각을 "빨리, 실수 없이" 저장.
- 작성 완료 후 상세 보기로 자연스럽게 이동해 맥락을 잇기.

### 핵심 목표
- 입력 유효성(제목/내용) 보장으로 깨끗한 데이터 유지.
- 감정 선택 UI로 시각적 피드백 제공(배경 컬러 변화).
- 저장 시 전역 상태(Zustand)로 일관되게 관리하고 상세 페이지로 이동.

### 구현 기능
- 제목/감정/내용 입력과 실시간 유효성 검증.
- `MoodPicker`로 감정 선택, 페이지 배경 색상 동기화.
- `useDiaryStore.addDiary` 호출로 상태에 저장, 생성된 id로 `navigate(`/diary/${id}`)`.
- 취소 버튼으로 이전 화면 복귀.

### 왜 이렇게 만들었나 (설계/선택 근거)
- 폼 유효성: 비어있는 데이터 유입을 초기에 차단해 후처리 비용을 줄임.
- 감정 기반 배경: 사용자가 자신의 상태를 직관적으로 느끼고 기록 맥락을 강화.
- Zustand: 라우트 간 상태 공유가 간단하고, 로컬 우선 워크플로우에 적합.

### 기대 효과
- 작성 시간/실수 감소, 완료 후 자연스러운 상세 이동으로 흐름 유지.
- 감정 선택이 기록 습관 형성에 도움.

### 다음 개선 아이디어
- 자동 임시저장(초안), 키보드 단축키(제출/이전), 이미지 첨부, 이동식 템플릿.

---

## My Page

### 페이지 목적
- 나에 대한 허브: 프로필 관리, 월별 감정 요약, 오늘의 문구를 한 곳에서.
- 차트 클릭으로 즉시 목록 필터로 드릴다운(탐색의 출발점).

### 핵심 목표
- 빠른 프로필 관리(아바타 업로드, 로컬 유지)와 친숙한 UI.
- 월별 감정 분포를 시각화하고, 클릭 시 `/?month=YYYY-MM&mood=...`로 리스트와 연동.
- 외부 조언(Advice)을 React Query로 캐싱/재시도해 가벼운 동기부여 제공.
- 반응형/접근성 기본값 적용.

### 구현 기능
- 아바타 업로드: `FileReader` → dataURL, `localStorage('my_avatar')` 보존.
- 월 선택 DatePicker → 해당 월의 diary 집계(`useMemo`), 막대 차트 SVG 렌더링.
- 막대 클릭 시 쿼리파라미터로 `DiaryListPage` 네비게이션(드릴다운).
- 오늘의 문구: `services/adviceClient` + `useAdvice`(React Query)로 로딩/에러/재시도 처리.
- 반응형 레이아웃 정리(`flex-column`→`flex-md-row`), Font Awesome 아이콘으로 편집 의미 강화.

### 왜 이렇게 만들었나 (설계/선택 근거)
- 허브화: 프로필·요약·조언을 한 화면에 배치해 재방문 동기 부여.
- 차트→쿼리파라미터: 리스트와 동일 스키마를 공유해 UX 일관성 확보, 북마크 가능.
- 로컬 우선: 로그인/백엔드 의존도 낮추며 빠른 피드백.
- React Query: 네트워크 상태를 UI 상태와 분리하고 캐싱/재시도를 표준화.

### 기대 효과
- 시각적 요약으로 패턴 인지(한 달 감정 분포)와 즉시 탐색.
- 아바타/문구로 개인화와 동기부여.
- URL 기반 필터로 팀 내 공유/재현이 쉬움.

### 다음 개선 아이디어
- 차트 막대 hover 하이라이트/툴팁, 키보드 포커스/aria-label 보강.
- 마이데이터 다운로드(CSV), 범례/색각 보정 테마, 클라우드 저장 연동.

---

## 원하는 결과(요약)
- 기록 마찰을 줄여 "쓰게 만드는" 작성 경험.
- 요약에서 시작해 원문으로 이어지는 자연스러운 탐색 흐름.
- 개인화된 허브로 재방문 동기를 제공하고, 일관된 URL 설계로 협업/공유가 쉬운 구조.
