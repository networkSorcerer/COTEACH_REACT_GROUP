# Daily Log

작성자: Yohan
작업 기간: 3h

# 2025. 11. 21. 금요일

- 한일

  - [x] 기존 Firebase Functions 기반 감정분석 연동 시도
  - [x] Vertex AI 호출 과정에서 과금 구조 확인 후 사용 철회 결정
  - [x] Python Flask 기반 감정 분석 백엔드 구축
  - [x] 백엔드를 PythonAnywhere로 배포 및 API 엔드포인트 연결 확인
  - [x] 프론트엔드 감정 분석 버튼 동작 수정(백엔드 엔드포인트 전환)

- 상세
- 백엔드
  - Firebase Functions에서 Vertex AI 호출 시 App Check 및 과금 문제가 지속되어 구조적 비효율 판단.
  - Flask로 최소 MVP 수준의 감정 분석 API 구현(/analyze-emotion)
  - 로컬 테스트 후 PythonAnywhere로 업로드 및 WSGI 설정 완료.
  - CORS 허용 범위 정리 후 프론트엔드에서 바로 호출 가능하도록 API 안정화.
- 프론트

  - 기존 Firebase 기반 비동기 호출 로직을 Flask API 호출로 교체.
  - 감정분석 버튼 클릭 시 로딩 상태/에러 처리 UX 정리.
  - 분석 실패 메시지・응답 구조가 바뀐 부분에 맞춰 데이터 파싱 코드 보정.

- 회고
  - 감정 분석 기능의 비용 구조를 명확히 파악하고 PythonAnywhere로 전환한 결정이 장기적으로 유리함을 확인했다.
  - Functions 기반보다 Flask가 디버깅・확장 모두 직관적이라 유지보수 난이도도 낮아짐.
  - 이제 감정 분석 기능이 API 형태로 명확해져 추후 모델 교체나 로직 고도화가 훨씬 유연해졌다
  - MVP를 만들어서 시행착오를 거치는 과정이 필요했는데 우려와 달리 실제 프로젝트에 잘 정착되어서 다행이다
